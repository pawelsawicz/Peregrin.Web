
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Jakub Kureń & Paweł Sawicz">
    <link rel="shortcut icon" href="docs-assets/ico/favicon.png">
    <title>Peregrin - aplikacja GPS</title>   
    <link href="css/bootstrap.css" rel="stylesheet">        
    <script src="http://dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0" type="text/javascript"></script>
    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../docs-assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Peregrin</a>
        </div>
       
       
       
       
      </div>
    </div>

   
    <div class="jumbotron">
      <div class="container">
        <h1>Prosta aplikacja do trackingu pojazdów MPK Wrocław</h1>
        <p>Ta prosta strona internetowa ma na celu ukazanie działania aplikacji GPS domyślnie zrobionej na Windows Phone. Na mapie wyświetlane zostają pozycje autobusów i tramwajów Wrocławskiego MPK.</p>
       <ul class="nav nav-tabs">
  <li class="active"><a href="#Strona główna" data-toggle="tab">Strona główna</a></li>
  <li><a href="#O nas" data-toggle="tab">O nas</a>
  </li>
  </ul>
</div>
<table width="45%" align="center">
  <tr>
      <td align="center" valign="middle">
      <font size="3"><b>Autobusy<br></b></font>
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default bus">-A-</button>
      <button type="button" class="btn btn-default bus"> C </button>
      <button type="button" class="btn btn-default bus"> D </button>
      <button type="button" class="btn btn-default bus"> K </button>
      <button type="button" class="btn btn-default bus"> N </button>
      <button type="button" class="btn btn-default bus">100</button>
      </div>
      </td>
      <td align="center" valign="middle">
      <font size="3"><b>Tramwaje<br></b></font>
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default tram">0L </button>
      <button type="button" class="btn btn-default tram">0P </button>
      <button type="button" class="btn btn-default tram"> 1 </button>
      <button type="button" class="btn btn-default tram"> 2 </button>
      <button type="button" class="btn btn-default tram"> 3 </button>
      <button type="button" class="btn btn-default tram"> 4 </button>
      </div>
      </td>
  </tr>
  <tr>
      <td align="center" valign="middle">
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default bus">103</button>
      <button type="button" class="btn btn-default bus">105</button>
      <button type="button" class="btn btn-default bus">107</button>
      <button type="button" class="btn btn-default bus">110</button>
      <button type="button" class="btn btn-default bus">113</button>
      <button type="button" class="btn btn-default bus">114</button>
      </div>
      </td>
      <td align="center" valign="middle">
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default tram"> 5 </button>
      <button type="button" class="btn btn-default tram"> 6 </button>
      <button type="button" class="btn btn-default tram"> 7 </button>
      <button type="button" class="btn btn-default tram"> 8 </button>
      <button type="button" class="btn btn-default tram"> 9 </button>
      <button type="button" class="btn btn-default tram"> 10 </button>
      </td>
  </tr>
  <tr>
      <td align="center" valign="middle">
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default bus">115</button>
      <button type="button" class="btn btn-default bus">116</button>
      <button type="button" class="btn btn-default bus">118</button>
      <button type="button" class="btn btn-default bus">119</button>
      <button type="button" class="btn btn-default bus">120</button>
      <button type="button" class="btn btn-default bus">122</button>
      </div>
      </td>
      <td align="center" valign="middle">
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default tram">11 </button>
      <button type="button" class="btn btn-default tram">14 </button>
      <button type="button" class="btn btn-default tram">15 </button>
      <button type="button" class="btn btn-default tram">17 </button>
      <button type="button" class="btn btn-default tram">20 </button>
      <button type="button" class="btn btn-default tram">23 </button>
      </div>
      </td>
  </tr>
  <tr>
      <td align="center" valign="middle">
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default bus">125</button>
      <button type="button" class="btn btn-default bus">126</button>
      <button type="button" class="btn btn-default bus">127</button>
      <button type="button" class="btn btn-default bus">128</button>
      <button type="button" class="btn btn-default bus">129</button>
      <button type="button" class="btn btn-default bus">130</button>
      </div>
      </td>
      <td align="center" valign="middle">
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default tram">24 </button>
      <button type="button" class="btn btn-default tram">31 Plus</button>
      <button type="button" class="btn btn-default tram">32 Plus</button>
      <button type="button" class="btn btn-default tram">33 Plus</button>
      </div>
      </td>
  </tr>
  <tr>
      <td align="center" valign="middle">
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default bus">131</button>
      <button type="button" class="btn btn-default bus">132</button>
      <button type="button" class="btn btn-default bus">133</button>
      <button type="button" class="btn btn-default bus">134</button>
      <button type="button" class="btn btn-default bus">136</button>
      <button type="button" class="btn btn-default bus">140</button>
      </div>
      </td>
      <td>
      </td>
  </tr>
  <tr>
      <td align="center" valign="middle">
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default bus">141</button>
      <button type="button" class="btn btn-default bus">142</button>
      <button type="button" class="btn btn-default bus">143</button>
      <button type="button" class="btn btn-default bus">144</button>
      <button type="button" class="btn btn-default bus">145</button>
      <button type="button" class="btn btn-default bus">147</button>
      </div>
      </td>
      <td>
      </td>
  </tr>
  <tr>
      <td align="center" valign="middle">
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default bus">149</button>
      <button type="button" class="btn btn-default bus">240</button>
      <button type="button" class="btn btn-default bus">241</button>
      <button type="button" class="btn btn-default bus">243</button>
      <button type="button" class="btn btn-default bus">245</button>
      <button type="button" class="btn btn-default bus">246</button>
      </div>
      </td>
      <td>
      </td>
  </tr>
  <tr>
      <td align="center" valign="middle">
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default bus">247</button>
      <button type="button" class="btn btn-default bus">249</button>
      <button type="button" class="btn btn-default bus">250</button>
      <button type="button" class="btn btn-default bus">251</button>
      <button type="button" class="btn btn-default bus">253</button>
      <button type="button" class="btn btn-default bus">255</button>
      </div>
      </td>
      <td>
      </td>
  </tr>
  <tr>
      <td align="center" valign="middle">
      <div class="btn-group btn-group-sm">
      <button type="button" class="btn btn-default bus">257</button>
      <button type="button" class="btn btn-default bus">259</button>
      <button type="button" class="btn btn-default bus">403</button>
      <button type="button" class="btn btn-default bus">406</button>
      <button type="button" class="btn btn-default bus">409</button>
      <button type="button" class="btn btn-default bus">435</button>
      </div>
      </td>
      <td>
      </td>
  </tr>
  </table>
      </div>
    </div>


    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div id="myMap" style="height:560px;"></div>
        </div>
      </div>
      <hr>
      <footer></footer>
    </div>  
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
      var peregrinCore = function(){
        
        var map;         
        var busList = {bus:{},tram:{},train:{}};

        var init = function(){
            map = new Microsoft.Maps.Map(document.getElementById('myMap'), {
            credentials: 'AqV3Ief4e3f6p6dTFSSenQgf_DcNT3JahUO20HWu1mMKWqtURMY_ABW3mpDDIYZ0',
            center: new Microsoft.Maps.Location(51.108480, 17.039181), zoom: 13
          });
        };

        var getData = function(){       
          var selectedVehicles = "busList[bus][]:122";          

          $.ajax({
            url:'http://pasazer.mpk.wroc.pl/position.php',
            type:'post',
            data: {"busList[bus][]": "122"},            
            crossDomain:true,            
            headers: {
                    "X-Requested-With": "XMLHttpRequest"
                },
            success: function() { alert("Success"); },
            error: function() { alert("Fail"); }
          });
        };

        var pinPushpin = function(){
            var center = map.getCenter();
            var pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(51.108480, 17.039181));
            map.entities.push(pin);
        };

        return{
          Init : init,
          pinPushpin : pinPushpin,
          getData : getData
        };

      }();
      $(function(){
        peregrinCore.Init();
      })
    </script>
  </body>
</html>
